<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- <link rel="stylesheet" href="C:\Users\Mervin\Desktop\HTML Files\style1.css"> -->
  <title>Quotation Form</title>
  <style>
    @media only screen and (max-width: 991px) {
      .row {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
      }

      .col-lg-6 {
        width: 100%;
        max-width: 50%;
      }

      .link-dark {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        float: none;
        margin: 0 auto;
      }

      .order-md-1 {
        order: 2;
      }

      .order-md-2 {
        order: 1;
      }
    }

    @media only screen and (min-width: 768px) {
      .link-dark {
        float: end;
      }
    }

    .stretch {
      width: 100%;
    }
  </style>

<body>
  <div class="container pt-5">
    <button type="button" href="#" class="btn btn-danger" id="button" data-bs-toggle="modal"
      data-bs-target="#myModal">Quote Now</button>
  </div>

  <div class="modal fade" id="myModal">
    <div class="modal-dialog modal-dialog-centered" id="modalBody">
      <div class="modal-content">
        <div class="modal-body p-5">
          <!--<div class="col-lg-4">
                  <img class="d-block w-100 vh-100 img-fluid" style="background-repeat: repeat-x;"src="C:\Users\Mervin\Desktop\HTML Files\fluid1.png" >
                </div> -->
          <img class="img-fluid" src="./Assets/Logo-Dark.png" width="100px">
          <button type="button" class="btn-close float-end pt-1" data-bs-dismiss="modal" alt="Close" id="close"
            onclick="clearAll()"></button>
          <div class="col-lg-12 p-2">
            <div id="text">
              <p class="fs-4 fw-bold text-start mt-4 mb-1">Let's Get Started!</p>
              <p class="text-start text-muted">Fill out the following information and we can keep in touch.</p>
            </div>
            <div id="step1" class="text-start" style="display: block;">
              <form class="needs-validation" novalidate>
                <div class="form-group  my-3">
                  <label for="name">Name:</label>
                  <input type="text" id="name" class="form-control rounded my-2 shadow-sm bg-body rounded" required>
                  <div class="valid-feedback">Good!</div>
                </div>
                <div class="form-group  my-3">
                  <label for="name">Email:</label>
                  <input type="text" id="email" class="form-control rounded my-2 shadow-sm bg-body rounded"
                    oninput="ValidateEmail()">
                  <p style="color: red;" id="lblError"></p>
                </div>
                <div class="form-group  my-3">
                  <label for="name">Phone Number:</label>
                  <input type="tel" id="phone" class="form-control rounded my-2 shadow-sm bg-body rounded"
                    oninput="ValidatePhone()">
                  <p style="color: red;" id="errorNum"></p>
                </div>
              </form>
              <div class="d-grid gap-1  float-end">
                <p style="color: red;" id="oneerror"></p>
                <button class="btn btn-danger rounded-pill" type="button" id="next" onclick="pageError()">Next<i
                    class="fa fa-angle-right mx-1" aria-hidden="true"></i></button>
              </div>
            </div>
            <div id="step2" class="text-start" data-mdb-toggle="animation" data-mdb-animation-start="onLoad"
              data-mdb-animation="fade-in-right">
              <form>
                <div class="row">
                  <div class="col-md-6" onchange="checkDropdown()">
                    <select class="form-select mb-4 rounded shadow-sm bg-body rounded" id="dropdown1">
                      <option value="">Select a service</option>
                      <option value="Design">Design</option>
                      <option value="End-to-End Video Production">End-to-End Video Production</option>
                      <option value="3D and 2D Animation">3D and 2D Animation</option>
                      <option value="Brand Communication and Advertising">Brand Communication and Advertising</option>
                      <option value="Virtual Studio">Virtual Studio</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <select class="form-select col-md-6 rounded mb-4 shadow-sm bg-body rounded" id="dropdown2" disabled>
                      <option value=""></option>
                      <option value="Option A">Option A</option>
                      <option value="Option B">Option B</option>
                      <option value="Option C">Option C</option>
                    </select>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6" id="ddown3">
                    <select class="form-select mb-4 rounded shadow-sm bg-body rounded" id="dropdown3" disabled>
                      <option value=""></option>
                      <option value="Option A">Option A</option>
                      <option value="Option B">Option B</option>
                      <option value="Option C">Option C</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <input class="form-control mb-4 rounded shadow-sm bg-body rounded" type="number" id="quantity"
                      name="quantity" min="0" oninput="this.value = 
                          !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null" disabled>
                  </div>
                </div>
                <textarea class="form-control mb-3 shadow-sm bg-body rounded" Placeholder="Notes and Suggestions"
                  id="notes" rows="3"></textarea>
              </form>
              <div class="row">
                <div class="col-md-12">
                  <p class="my-0" style="color: red;" id="error"></p>
                  <p class="mb-0">Total Price:</p>
                  <p style="font-weight: bolder; font-size: 20px" class="my-0" id="price"></p>
                  <p id="converted" style="font-size: 80%"></p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 col-12 order-md-1 text-center my-3 mb-3 mb-md-0">
                  <button class="btn btn-secondary w-100" onclick="prevStep()">Back</button>
                </div>
                <div class="col-md-6 col-12 order-md-2 text-center my-3">
                  <button class="btn btn-danger w-100" onclick="checkPrice()">Check Price</button>
                  <a class="link-dark mx-0 my-2" style="font-size: 80%; display: none;" id="pdf"
                    onclick="nextStep(); outputPdf(); clearText()"><u>Click here for a PDF version.</u></a>
                </div>
              </div>
            </div>
            <div id="step3" class="p-0" style="width: 100%;">
              <div class="col-lg-12">
                <div class="text-align">
                  <h4 class="text-end">The Studio Bridge</h4>
                  <p class="text-end my-1" style="color: gray; font-size: 70%;">17 San Miguel Ave, Unit 1810 Hanston
                    Square Building, Ortigas Centre, Pasig, 1605 Metro Manila</p>
                  <p class="text-end my-1" style="color: gray; font-size: 70%;">thestudiobridge.com</p>
                  <p class="text-end my-1" style="color: gray; font-size: 70%;">+63 977 192 0257</p>
                  <hr style="height: 2px">
                  <p class="text-start my-1" style="color: gray; font-size: 70%;">Quotation for:</p>
                  <h4 class="text-start mb-1" id="pdfName"></h4>
                  <p class="text-start my-1" id="pdfEmail" style="color: gray; font-size: 70%;"></p>
                  <p class="text-start my-1" id="pdfNumber" style="color: gray; font-size: 70%;"></p>
                  <br>
                  <div class="table-responsive-sm">
                    <table class="table text-center">
                      <thead>
                        <tr>
                          <th scope="col" style="font-size: 80%;">Service</th>
                          <th scope="col" style="font-size: 80%;">Package</th>
                          <th scope="col" style="font-size: 80%;">Project Needed</th>
                          <th scope="col" id="q" style="font-size: 80%;"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td id="pdfService" style="color: gray; font-size: 80%;">
                            </th>
                          <td id="pdfPackage" style="color: gray; font-size: 80%;"></td>
                          <td id="pdfPerson" style="color: gray; font-size: 80%;"></td>
                          <td class="text-center" id="pdfNo" style="color: gray; font-size: 80%;"></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <br>
                  <p class="text-start my-1" style="font-size: 80%;">Price:</p>
                  <h5 class="text-start my-1" id="pdfPrice"></h5>
                  <p class="text-start my-1" style="color: gray; font-size: 80%;" id="pdfConvert"></p>
                  <br>
                  <p class="text-start my-1" style="font-size: 70%;">Notes and Suggestions:</p>
                  <p class="text-start mb-5" style="color: gray; font-size: 70%; justify-content: stretch;"
                    id="pdfNotes"></p>
                </div>
                <div class="row align-items-center">
                  <div class="col-lg-6 col-12 text-start my-3 mb-3 mb-md-0">
                    <button class="btn btn-secondary" onclick="prevStep()">Back</button>
                  </div>
                  <div class="col-lg-6 col-12 text-end  my-3 mb-3 mb-md-0">
                    <button class="btn btn-danger" onclick="generatePDF()">Download PDF</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!--<div class="col mb-1">
              <label for="exampleFormControlTextarea1">Notes:</label>
              <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
            </div> -->
  <!-- Modal footer -->


  <script src="./js/Test1.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.0.272/jspdf.debug.js"></script>
  <script>
    function generatePDF() {
      var pdf = new jsPDF({
        format: 'letter',
        putOnlyUsedFonts: true
      });
      pdf.setFontSize(20);
      pdf.text("The Studio Bridge", 150, 20);
      pdf.setFontSize(10);
      pdf.setTextColor(128, 128, 128);
      pdf.text("17 San Miguel Ave, Unit 1810 Hanston Square Building, Ortigas Centre, Pasig, 1605 Metro Manila", 53, 30);
      pdf.text("thestudiobridge.com", 175, 35);
      pdf.setFontSize(10);
      pdf.setTextColor(128, 128, 128);
      pdf.text("+63 977 192 0257", 178, 40);

      pdf.line(205, 45, 10, 45); //45

      pdf.setFontSize(10);
      pdf.setTextColor(128, 128, 128);
      pdf.text("Quotation for:", 10, 50);

      pdf.setFontSize(17);
      pdf.setTextColor(0, 0, 0);
      pdf.text(document.getElementById('name').value, 10, 57);
      pdf.setTextColor(128, 128, 128);
      pdf.setFontSize(12);
      pdf.text(document.getElementById('email').value, 10, 64);
      pdf.text(document.getElementById('phone').value, 10, 71);
      pdf.line(200, 102, 10, 102); //102

      pdf.setFontSize(10);
      pdf.setTextColor(128, 128, 128);
      pdf.text("Issue Date:", 182, 50);
      var today = new Date();
      var year = today.getFullYear();
      var mon = today.getMonth() + 1;
      var day = today.getDate();
      var dateToday = mon + "/" + day + "/" + year;
      pdf.setFontSize(15);
      pdf.setTextColor(0, 0, 0);
      pdf.text(dateToday, 182, 57);

      pdf.setFontSize(10);
      pdf.setTextColor(0, 0, 0);
      pdf.text("Service", 20, 100); //100
      pdf.text("Package", 65, 100);
      pdf.text("Project Needed", 110, 100);
      pdf.text(document.getElementById('quantity').placeholder, 170, 100);
      pdf.setFontSize(10);
      pdf.setTextColor(128, 128, 128);
      pdf.text(document.getElementById('dropdown1').value, 20, 109); //108
      pdf.text(document.getElementById('dropdown3').value, 66, 109);
      pdf.text(document.getElementById('dropdown2').value, 110, 109);
      pdf.text(document.getElementById('quantity').value, 180, 109);
      pdf.setTextColor(0, 0, 0);
      pdf.text("Price:", 10, 130); //130
      pdf.setFontSize(20);
      pdf.text(document.getElementById("price").innerHTML, 10, 140); //140
      pdf.setFontSize(10);
      pdf.setTextColor(128, 128, 128);
      pdf.text(document.getElementById("converted").innerHTML, 10, 147); //147

      pdf.setFontSize(10);
      pdf.setTextColor(0, 0, 0);
      pdf.text("Notes and Suggestions:", 10, 171);
      pdf.setTextColor(128, 128, 128);
      var notes = document.getElementById("notes").value;
      var lines = pdf.splitTextToSize(notes, 100);
      for (var i = 0; i < lines.length; i++) {
        pdf.text(lines[i], 10, 179 + (i * 5)); // print each line with a 10-point gap between them
      }
      pdf.setFontSize(7);
      pdf.text("Terms and Conditions:", 10, 250);
      var text = "*Please be aware that prices displayed on our platform are subject to change without prior notice.\n We strive to provide accurate and up-to-date pricing information; however, various factors can\n influence price adjustments";
      pdf.text(text, 10, 255);
      //pdf.text("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim \n ad minim veniam, quis nostrud exercitation \n ullamco laboris nisi ut aliquip ex ea commodo consequat.", 10, 179 , {maxWidth: 300});
      //let vOffset = 0.5;
      //pdf.text(0.5, vOffset + 12/72, textlines) 
      //vOffset += (textlines.length + 0.5) * 12 / 72;
      pdf.save('The_Studio_Bridge_Quotation_Form.pdf');
    }
  </script>
</body>

</html>